### Feature: 買家許願功能

## User Story
身為有代購需求的消費者
我想向平台許願商品上架
以買到市面上沒有販賣的產品

## **Acceptance Criteria（驗收標準）**
1. **表單填寫**
   * 使用者能填寫商品名稱、商品描述、商品類別、圖片（可選）、商品所在領域、其他補充資訊
   * 必填欄位需有驗證（如名稱、類別不可空白）
2. **UI 設計**
   * 表單界面需簡潔、易操作
   * 支援Web端顯示
   * 提交按鈕清楚可見，成功提交後有提示訊息或有其餘顯示方式能讓使用者知道提交成功
3. **表單提交**
   * 使用者填寫完畢後可提交表單
   * 提交後資料存入後端資料庫
   * 若有欄位錯誤或遺漏，系統需提示錯誤
4. **API 設計**
   * 提供新增許願商品的 API
   * 成功提交時返回商品 ID
5. **資料儲存與查詢**
   * 後端資料庫儲存完整商品資料
   * 管理員可查詢所有許願商品
   * 可依照日期、類別排序

## **Gherkin 語法**

### Scenario 1: 成功提交許願商品表單
```gherkin
Given 我是一個有代購需求的消費者
When 我填寫商品名稱、商品描述、商品類別、商品所在領域
And 我選擇性上傳商品圖片和補充資訊
And 我點擊提交按鈕
Then 系統應該成功儲存我的許願商品資料到資料庫
And 系統應該返回商品ID
And 我應該看到成功提交的提示訊息
```

### Scenario 2: 必填欄位驗證失敗
```gherkin
Given 我是一個有代購需求的消費者
When 我沒有填寫商品名稱或商品類別
And 我點擊提交按鈕
Then 系統應該顯示錯誤提示訊息
And 表單不應該被提交
And 資料不應該儲存到資料庫
```

### Scenario 3: 管理員查詢許願商品
```gherkin
Given 我是系統管理員
And 資料庫中已有多筆許願商品資料
When 我進入管理後台查詢許願商品
Then 我應該能看到所有許願商品清單
And 我應該能依照日期排序查看
And 我應該能依照類別排序查看
```

### Scenario 4: 表單界面操作體驗
```gherkin
Given 我是一個有代購需求的消費者
When 我開啟許願商品表單頁面
Then 我應該看到簡潔易操作的表單界面
And 表單應該在Web端正常顯示
And 提交按鈕應該清楚可見
And 所有必填欄位應該有明確標示
```

## **JIRA Task 分解**

### Task 1: 設計許願商品表單 UI
- **描述**: 設計並實作許願商品表單的前端界面
- **驗收標準**: 
  - 表單界面簡潔易操作
  - 支援 Web 端正常顯示
  - 包含所有必要欄位（商品名稱、描述、類別、圖片上傳、所在領域、補充資訊）
  - 必填欄位有明確標示
  - 提交按鈕清楚可見

### Task 2: 實作表單驗證功能
- **描述**: 實作前端表單驗證邏輯
- **驗收標準**:
  - 必填欄位不可空白（商品名稱、類別）
  - 驗證失敗時顯示錯誤提示訊息
  - 阻止無效表單提交

### Task 3: 開發許願商品 API
- **描述**: 設計並實作後端 API 接收許願商品資料
- **驗收標準**:
  - 提供 POST /api/wish-products 端點
  - 接收完整商品資料
  - 成功時返回商品 ID
  - 失敗時返回錯誤訊息

### Task 4: 設計資料庫結構
- **描述**: 設計許願商品資料表結構
- **驗收標準**:
  - 包含所有必要欄位
  - 支援圖片檔案儲存
  - 記錄建立時間
  - 支援索引查詢

### Task 5: 實作資料儲存功能
- **描述**: 實作許願商品資料的儲存邏輯
- **驗收標準**:
  - 成功儲存完整商品資料
  - 處理圖片檔案上傳
  - 返回唯一商品 ID

### Task 6: 實作成功提交提示
- **描述**: 實作表單成功提交後的用戶提示機制
- **驗收標準**:
  - 顯示成功提交訊息
  - 清除表單內容
  - 提供後續操作指引

### Task 7: 開發管理員查詢功能
- **描述**: 實作管理員查詢許願商品的功能
- **驗收標準**:
  - 提供管理後台界面
  - 顯示所有許願商品清單
  - 支援依日期排序
  - 支援依類別排序

## **額外的 Gherkin Scenarios**

### Scenario 5: 圖片上傳功能
```gherkin
Given 我是一個有代購需求的消費者
And 我正在填寫許願商品表單
When 我點擊圖片上傳按鈕
And 我選擇一張有效的商品圖片
Then 系統應該成功上傳圖片
And 我應該看到圖片預覽
And 圖片應該與表單資料一起儲存
```

### Scenario 6: 圖片上傳格式驗證
```gherkin
Given 我是一個有代購需求的消費者
And 我正在填寫許願商品表單
When 我嘗試上傳不支援的檔案格式
Then 系統應該顯示格式錯誤提示
And 圖片不應該被上傳
And 我應該能重新選擇正確格式的圖片
```

### Scenario 7: 表單資料持久化
```gherkin
Given 我是一個有代購需求的消費者
And 我已填寫部分表單內容
When 我不小心重新整理頁面
Then 系統應該保留我已填寫的資料
And 我不需要重新輸入已填寫的內容
```

### Scenario 8: 商品類別選擇
```gherkin
Given 我是一個有代購需求的消費者
And 我正在填寫許願商品表單
When 我點擊商品類別下拉選單
Then 我應該看到所有可選的商品類別
And 我應該能選擇最符合的類別
And 選擇的類別應該正確顯示在表單中
```

### Scenario 9: 管理員依類別篩選
```gherkin
Given 我是系統管理員
And 資料庫中有不同類別的許願商品
When 我在管理後台選擇特定類別篩選
Then 我應該只看到該類別的許願商品
And 商品數量應該正確顯示
And 我應該能切換到其他類別查看
```

### Scenario 10: 管理員依日期範圍查詢
```gherkin
Given 我是系統管理員
And 資料庫中有不同日期的許願商品
When 我設定日期範圍進行查詢
Then 我應該只看到該日期範圍內的許願商品
And 結果應該依時間順序排列
And 我應該能調整日期範圍重新查詢
```

### Scenario 11: 表單欄位字數限制
```gherkin
Given 我是一個有代購需求的消費者
And 我正在填寫許願商品表單
When 我在商品描述欄位輸入過多字元
Then 系統應該顯示字數限制提示
And 超出限制的字元不應該被輸入
And 我應該看到剩餘可輸入字數
```

### Scenario 12: API 錯誤處理
```gherkin
Given 我是一個有代購需求的消費者
And 我已正確填寫所有表單欄位
When 後端服務暫時無法使用
And 我點擊提交按鈕
Then 系統應該顯示服務暫時無法使用的訊息
And 我的表單資料應該被保留
And 我應該能稍後重新提交
```

### Scenario 13: 重複提交防護
```gherkin
Given 我是一個有代購需求的消費者
And 我已填寫完整的表單資料
When 我點擊提交按鈕
And 在處理過程中我再次點擊提交按鈕
Then 系統應該防止重複提交
And 只應該處理第一次提交
And 我應該看到處理中的提示訊息
```

### Scenario 14: 管理員商品詳情查看
```gherkin
Given 我是系統管理員
And 我在管理後台查看許願商品清單
When 我點擊某個許願商品
Then 我應該看到該商品的完整詳細資訊
And 包含所有使用者填寫的欄位
And 包含提交時間和商品 ID
And 如有圖片應該能正常顯示
```

### Scenario 15: 響應式設計驗證
```gherkin
Given 我是一個有代購需求的消費者
When 我在不同尺寸的裝置上開啟許願商品表單
Then 表單應該在各種螢幕尺寸下正常顯示
And 所有欄位和按鈕應該容易點擊
And 文字應該清晰可讀
And 圖片上傳功能應該正常運作
```